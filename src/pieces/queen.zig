const std = @import("std");
const testing = @import("testing.zig");
const rooks = @import("rook.zig");
const bishop = @import("bishop.zig");

pub fn generate_queen_moves(queen_pos: u6) u64 {
    return bishop.generate_bishop_moves(queen_pos) | rooks.generate_rook_moves(queen_pos);
}
test generate_queen_moves {
    std.testing.log_level = .debug;

    try testing.expectBitBoardArray(
        [64]u64{
            //12345678_12345678_12345678_12345678_12345678_12345678_12345678_12345678_
            0b11111111_11000000_10100000_10010000_10001000_10000100_10000010_10000001,
            0b11111111_11100000_01010000_01001000_01000100_01000010_01000001_01000000,
            0b11111111_01110000_10101000_00100100_00100010_00100001_00100000_00100000,
            0b11111111_00111000_01010100_10010010_00010001_00010000_00010000_00010000,
            0b11111111_00011100_00101010_01001001_10001000_00001000_00001000_00001000,
            0b11111111_00001110_00010101_00100100_01000100_10000100_00000100_00000100,
            0b11111111_00000111_00001010_00010010_00100010_01000010_10000010_00000010,
            0b11111111_00000011_00000101_00001001_00010001_00100001_01000001_10000001,
            0b11000000_11111111_11000000_10100000_10010000_10001000_10000100_10000010,
            0b11100000_11111111_11100000_01010000_01001000_01000100_01000010_01000001,
            0b01110000_11111111_01110000_10101000_00100100_00100010_00100001_00100000,
            0b00111000_11111111_00111000_01010100_10010010_00010001_00010000_00010000,
            0b00011100_11111111_00011100_00101010_01001001_10001000_00001000_00001000,
            0b00001110_11111111_00001110_00010101_00100100_01000100_10000100_00000100,
            0b00000111_11111111_00000111_00001010_00010010_00100010_01000010_10000010,
            0b00000011_11111111_00000011_00000101_00001001_00010001_00100001_01000001,
            0b10100000_11000000_11111111_11000000_10100000_10010000_10001000_10000100,
            0b01010000_11100000_11111111_11100000_01010000_01001000_01000100_01000010,
            0b10101000_01110000_11111111_01110000_10101000_00100100_00100010_00100001,
            0b01010100_00111000_11111111_00111000_01010100_10010010_00010001_00010000,
            0b00101010_00011100_11111111_00011100_00101010_01001001_10001000_00001000,
            0b00010101_00001110_11111111_00001110_00010101_00100100_01000100_10000100,
            0b00001010_00000111_11111111_00000111_00001010_00010010_00100010_01000010,
            0b00000101_00000011_11111111_00000011_00000101_00001001_00010001_00100001,
            0b10010000_10100000_11000000_11111111_11000000_10100000_10010000_10001000,
            0b01001000_01010000_11100000_11111111_11100000_01010000_01001000_01000100,
            0b00100100_10101000_01110000_11111111_01110000_10101000_00100100_00100010,
            0b10010010_01010100_00111000_11111111_00111000_01010100_10010010_00010001,
            0b01001001_00101010_00011100_11111111_00011100_00101010_01001001_10001000,
            0b00100100_00010101_00001110_11111111_00001110_00010101_00100100_01000100,
            0b00010010_00001010_00000111_11111111_00000111_00001010_00010010_00100010,
            0b00001001_00000101_00000011_11111111_00000011_00000101_00001001_00010001,
            0b10001000_10010000_10100000_11000000_11111111_11000000_10100000_10010000,
            0b01000100_01001000_01010000_11100000_11111111_11100000_01010000_01001000,
            0b00100010_00100100_10101000_01110000_11111111_01110000_10101000_00100100,
            0b00010001_10010010_01010100_00111000_11111111_00111000_01010100_10010010,
            0b10001000_01001001_00101010_00011100_11111111_00011100_00101010_01001001,
            0b01000100_00100100_00010101_00001110_11111111_00001110_00010101_00100100,
            0b00100010_00010010_00001010_00000111_11111111_00000111_00001010_00010010,
            0b00010001_00001001_00000101_00000011_11111111_00000011_00000101_00001001,
            0b10000100_10001000_10010000_10100000_11000000_11111111_11000000_10100000,
            0b01000010_01000100_01001000_01010000_11100000_11111111_11100000_01010000,
            0b00100001_00100010_00100100_10101000_01110000_11111111_01110000_10101000,
            0b00010000_00010001_10010010_01010100_00111000_11111111_00111000_01010100,
            0b00001000_10001000_01001001_00101010_00011100_11111111_00011100_00101010,
            0b10000100_01000100_00100100_00010101_00001110_11111111_00001110_00010101,
            0b01000010_00100010_00010010_00001010_00000111_11111111_00000111_00001010,
            0b00100001_00010001_00001001_00000101_00000011_11111111_00000011_00000101,
            0b10000010_10000100_10001000_10010000_10100000_11000000_11111111_11000000,
            0b01000001_01000010_01000100_01001000_01010000_11100000_11111111_11100000,
            0b00100000_00100001_00100010_00100100_10101000_01110000_11111111_01110000,
            0b00010000_00010000_00010001_10010010_01010100_00111000_11111111_00111000,
            0b00001000_00001000_10001000_01001001_00101010_00011100_11111111_00011100,
            0b00000100_10000100_01000100_00100100_00010101_00001110_11111111_00001110,
            0b10000010_01000010_00100010_00010010_00001010_00000111_11111111_00000111,
            0b01000001_00100001_00010001_00001001_00000101_00000011_11111111_00000011,
            0b10000001_10000010_10000100_10001000_10010000_10100000_11000000_11111111,
            0b01000000_01000001_01000010_01000100_01001000_01010000_11100000_11111111,
            0b00100000_00100000_00100001_00100010_00100100_10101000_01110000_11111111,
            0b00010000_00010000_00010000_00010001_10010010_01010100_00111000_11111111,
            0b00001000_00001000_00001000_10001000_01001001_00101010_00011100_11111111,
            0b00000100_00000100_10000100_01000100_00100100_00010101_00001110_11111111,
            0b00000010_10000010_01000010_00100010_00010010_00001010_00000111_11111111,
            0b10000001_01000001_00100001_00010001_00001001_00000101_00000011_11111111,
        },
        generate_queen_moves,
    );
}
